<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simple Food Delivery</title>
<style>
  body {font-family: Arial, sans-serif; margin:0; padding:0; background:#f5f5f5;}
  nav {background:#667eea; color:white; padding:15px; display:flex; justify-content:space-between;}
  nav .nav-item {margin-left:15px; cursor:pointer;}
  .container {padding:20px;}
  .hidden {display:none;}
  input, select, button, textarea {width:100%; padding:10px; margin:5px 0; border-radius:5px; border:1px solid #ccc;}
  button {background:#667eea; color:white; border:none; cursor:pointer;}
  button:hover {opacity:0.8;}
  .card {background:white; padding:15px; margin:10px 0; border-radius:10px; box-shadow:0 2px 5px rgba(0,0,0,0.1);}
  .cart-item {display:flex; justify-content:space-between; align-items:center;}
</style>
</head>
<body>

<nav>
  <div><strong>FoodExpress</strong></div>
  <div>
    <span class="nav-item" onclick="showModule('login')">Login/Register</span>
    <span class="nav-item" onclick="showModule('restaurants')">Restaurants</span>
    <span class="nav-item" onclick="showModule('cart')">Cart (<span id="cartCount">0</span>)</span>
  </div>
</nav>

<div class="container">

  <!-- Login/Register Module -->
  <div id="loginModule" class="card">
    <h2>Login</h2>
    <input type="email" id="loginEmail" placeholder="Email">
    <input type="password" id="loginPassword" placeholder="Password">
    <button onclick="login()">Login</button>
    <p style="text-align:center;">or</p>
    <h2>Register</h2>
    <input type="text" id="regName" placeholder="Full Name">
    <input type="email" id="regEmail" placeholder="Email">
    <input type="password" id="regPassword" placeholder="Password">
    <button onclick="register()">Register</button>
  </div>

  <!-- Restaurants Module -->
  <div id="restaurantsModule" class="hidden">
    <h2>Restaurants</h2>
    <div id="restaurantList"></div>
  </div>

  <!-- Menu Module -->
  <div id="menuModule" class="hidden">
    <h2>Menu for <span id="restaurantName"></span></h2>
    <div id="menuList"></div>
    <button onclick="backToRestaurants()">Back to Restaurants</button>
  </div>

  <!-- Cart Module -->
  <div id="cartModule" class="hidden">
    <h2>Your Cart</h2>
    <div id="cartItems"></div>
    <p><strong>Total: â‚¹<span id="cartTotal">0</span></strong></p>
    <button onclick="checkout()">Checkout</button>
    <button onclick="backToRestaurants()">Continue Shopping</button>
  </div>

  <!-- Payment Section -->
  <div id="paymentSection">
    <h3>ðŸ’³ Choose Payment Method</h3>
    <select id="paymentMethod" onchange="showPaymentOption()">
      <option value="">-- Select Payment Method --</option>
      <option value="upi">ðŸ“² UPI</option>
      <option value="card">ðŸ’³ Credit/Debit Card</option>
      <option value="cod">ðŸ’µ Cash on Delivery</option>
      <option value="wallet">ðŸ“± Wallet (Paytm/PhonePe)</option>
    </select>

    <div id="upiDetails" style="display:none;">
      <h3>ðŸ“² Pay via UPI</h3>
      <img src="https://www.gs1us.org/content/dam/gs1us/images/landing-pages/2d-barcodes/qr-code-2d%402x.png" 
           alt="UPI QR Code"
           style="width:150px; height:150px; display:block; margin:10px auto; border:2px solid #667eea; border-radius:10px;">
      <p>UPI ID: <b>biryani@upi</b></p>
      <button onclick="showDelivery()">I Have Paid</button>
    </div>

    <div id="cardDetails" style="display:none;">
      <h3>ðŸ’³ Card Payment</h3>
      <input type="text" placeholder="Card Number"><br><br>
      <input type="text" placeholder="Expiry Date (MM/YY)"><br><br>
      <input type="text" placeholder="CVV"><br><br>
      <button onclick="showDelivery()">Pay Now</button>
    </div>

    <div id="codDetails" style="display:none;">
      <h3>ðŸ’µ Cash on Delivery</h3>
      <p>Pay when your order arrives. âœ…</p>
      <button onclick="showDelivery()">Confirm Order</button>
    </div>

    <div id="walletDetails" style="display:none;">
      <h3>ðŸ“± Wallet Payment</h3>
      <p>Pay via Paytm / PhonePe / Amazon Pay</p>
      <button onclick="showDelivery()">Pay with Wallet</button>
    </div>
  </div>
</div>

<script>
// ----- Data -----
const restaurants = {
  "Pizza Place": [
    {name:"Margherita", price:299, img:"https://th.bing.com/th/id/OIP.nBZX3ntUvPDt91JK6IKJGwHaJu?o=7rm=3&rs=1&pid=ImgDetMain&o=7&rm=3"},
    {name:"Pepperoni", price:399, img:"https://th.bing.com/th/id/OIP.qvymI-blWS_h_iEVkN3nnwHaDF?o=7rm=3&rs=1&pid=ImgDetMain&o=7&rm=3"},
    {name:"Farmhouse", price:349, img:"https://tse2.mm.bing.net/th/id/OIP.fWpwQjEXUBmQOsvM8M1bbwHaHa?rs=1&pid=ImgDetMain&o=7&rm=3"},
    {name:"BBQ Chicken Pizza", price:449, img:"https://th.bing.com/th/id/OIP.NjBlq-_eSsQxGwu6eLhI9QHaHa?o=7rm=3&rs=1&pid=ImgDetMain&o=7&rm=3"}
  ],
  "Burger House": [
    {name:"Cheeseburger", price:199, img:"https://tse2.mm.bing.net/th/id/OIP.Ih2D-VyQFRA2B7jc-KIadwHaE7?rs=1&pid=ImgDetMain&o=7&rm=3"},
    {name:"Veggie Burger", price:149, img:"https://tse3.mm.bing.net/th/id/OIP.Lpb5CLKfS2RXOdNoAmq-9AHaHa?rs=1&pid=ImgDetMain&o=7&rm=3"},
    {name:"Chicken Burger", price:229, img:"https://tse3.mm.bing.net/th/id/OIP.1iga5uTndtz8Yro5x-PTZwHaFh?rs=1&pid=ImgDetMain&o=7&rm=3"},
    {name:"Paneer Tikka Burger", price:249, img:"https://saimurahari.github.io/Food-Delivery-System/Files/Images/Dishes/paneer-tikka-burger.JPG"}
  ],
  "Biryani Corner": [
    {name:"Hyderabadi Chicken Biryani", price:299, img:"https://tse1.mm.bing.net/th/id/OIP.LMrVUyc4CLKdSwVXPrW3ywHaE8?rs=1&pid=ImgDetMain&o=7&rm=3"},
    {name:"Veg Dum Biryani", price:249, img:"https://tse2.mm.bing.net/th/id/OIP.5jw6nroOPDZB7zTSxTHrtgHaHa?rs=1&pid=ImgDetMain&o=7&rm=3"},
    {name:"Mutton Biryani", price:399, img:"https://th.bing.com/th/id/OIP.pK3hTwN_FIWMmNhocPG9tgHaHa?o=7rm=3&rs=1&pid=ImgDetMain&o=7&rm=3"},
    {name:"Egg Biryani", price:199, img:"https://cdn.zeptonow.com/production/tr:w-600,ar-100-100,pr-true,f-auto,q-80/web/recipes/egg-biryani.png"}
  ],
  "South Indian Tiffins": [
    {name:"Masala Dosa", price:120, img:"https://culinarydelightsandbeyond.com/wp-content/uploads/2023/03/dosa-5oF7d_hPJG4-scaled.jpg"},
    {name:"Idli Sambar", price:90, img:"https://tse3.mm.bing.net/th/id/OIP.RKq5Uul-gN3zc4hcKui12AHaE7?rs=1&pid=ImgDetMain&o=7&rm=3"},
    {name:"Vada", price:80, img:"https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_300,h_300,c_fit/FOOD_CATALOG/IMAGES/CMS/2025/9/24/b4a91632-5571-49a6-b461-108f8b5c0839_61a3b113-14c8-40e8-99e8-bc63da4b563a.jpg"},
    {name:"Upma", price:100, img:"https://tse2.mm.bing.net/th/id/OIP.XfD6Q-DOM_Cik4LBazlFIQHaHa?rs=1&pid=ImgDetMain&o=7&rm=3"}
  ]
};

let currentUser = null;
let cart = [];

// ----- Module Navigation -----
function showModule(module) {
  document.getElementById('loginModule').classList.add('hidden');
  document.getElementById('restaurantsModule').classList.add('hidden');
  document.getElementById('menuModule').classList.add('hidden');
  document.getElementById('cartModule').classList.add('hidden');

  if(module==='login') document.getElementById('loginModule').classList.remove('hidden');
  if(module==='restaurants') showRestaurants();
  if(module==='cart') showCart();
}

// ----- Login/Register -----
function login() {
  const email = document.getElementById('loginEmail').value;
  const password = document.getElementById('loginPassword').value;
  if(email && password) {
    currentUser = {name:"John Doe", email};
    alert('Logged in successfully!');
    showModule('restaurants');
  } else alert('Enter email and password');
}

function register() {
  const name = document.getElementById('regName').value;
  const email = document.getElementById('regEmail').value;
  const password = document.getElementById('regPassword').value;
  if(name && email && password) {
    currentUser = {name, email};
    alert('Registered successfully!');
    showModule('restaurants');
  } else alert('Fill all fields');
}

// ----- Restaurants -----
function showRestaurants() {
  document.getElementById('restaurantsModule').classList.remove('hidden');
  const list = document.getElementById('restaurantList');
  list.innerHTML = '';
  for(let r in restaurants) {
    const div = document.createElement('div');
    div.className='card';
    div.innerHTML = `
      <h3>${r}</h3>
      <button onclick="showMenu('${r}')">View Menu</button>
    `;
    list.appendChild(div);
  }
}

// ----- Menu -----
function showMenu(name) {
  document.getElementById('restaurantsModule').classList.add('hidden');
  document.getElementById('menuModule').classList.remove('hidden');
  document.getElementById('restaurantName').innerText = name;
  const list = document.getElementById('menuList');
  list.innerHTML = '';
  restaurants[name].forEach((item,i)=>{
    const div=document.createElement('div');
    div.className='card';
    div.innerHTML = `
      <img src="${item.img}" alt="${item.name}" style="width:100%; max-width:200px; display:block; margin-bottom:10px; border-radius:10px;">
      <strong>${item.name}</strong> - â‚¹${item.price}
      <button onclick="addToCart('${name}',${i})">Add to Cart</button>
    `;
    list.appendChild(div);
  });
}

function backToRestaurants() {
  document.getElementById('menuModule').classList.add('hidden');
  showRestaurants();
}

// ----- Cart -----
function addToCart(restaurant,index){
  cart.push({...restaurants[restaurant][index], restaurant});
  updateCartCount();
  alert('Item added to cart!');
}

function updateCartCount() {
  document.getElementById('cartCount').innerText = cart.length;
}

function showCart(){
  document.getElementById('cartModule').classList.remove('hidden');
  const list = document.getElementById('cartItems');
  list.innerHTML = '';
  let total=0;
  cart.forEach((item,i)=>{
    total+=item.price;
    const div=document.createElement('div');
    div.className='cart-item';
    div.innerHTML = `
      ${item.name} - â‚¹${item.price}
      <button onclick="removeCartItem(${i})">Remove</button>
    `;
    list.appendChild(div);
  });
  document.getElementById('cartTotal').innerText=total;
}

function removeCartItem(index){
  cart.splice(index,1);
  showCart();
  updateCartCount();
}

function checkout(){
  if(cart.length===0) { alert('Cart is empty'); return; }
  alert('Order placed successfully! Total: â‚¹'+cart.reduce((acc,i)=>acc+i.price,0));
  cart=[];
  updateCartCount();
  showModule('restaurants');
}

function showPaymentOption() {
  document.getElementById("upiDetails").style.display = "none";
  document.getElementById("cardDetails").style.display = "none";
  document.getElementById("codDetails").style.display = "none";
  document.getElementById("walletDetails").style.display = "none";
  let method = document.getElementById("paymentMethod").value;
  if (method === "upi") document.getElementById("upiDetails").style.display = "block";
  if (method === "card") document.getElementById("cardDetails").style.display = "block";
  if (method === "cod") document.getElementById("codDetails").style.display = "block";
  if (method === "wallet") document.getElementById("walletDetails").style.display = "block";
}

// ----- Make I Have Paid button work -----
function showDelivery() {
    alert("Payment confirmed! Your order will be delivered soon.");
    showModule('restaurants');
    cart = [];
    updateCartCount();
}

// Show restaurants on page load
showModule('login');
</script>

</body>
</html>
